import{g as h,a as x,u as b,h as c,m as g,b as u,o as l,d as o,i as y,t as d,j as n}from"./index-CvkFHojO.js";import{b as m}from"./route-block-B_A1xBdJ.js";const _={class:"flex items-center justify-center py-12 px-4 min-h-[calc(100vh-4rem)]"},k={class:"text-center"},v={class:"text-2xl font-semibold text-gray-900 mb-2"},w={key:0,class:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg max-w-md mx-auto"},S={class:"text-red-700 font-medium"},q={__name:"callback",setup(A){const a=h(),r=x(),f=b(),i=c("Signing you in"),s=c(null);g(async()=>{try{const e=r.query.token;if(!e)throw r.query.error?new Error(`Authentication failed: ${r.query.error}`):new Error("No token received from authentication");f.login(e),i.value="Authentication successful!",await new Promise(t=>setTimeout(t,500)),a.push("/profile")}catch(e){console.error("Callback error:",e),s.value=e.message||"Authentication failed. Please try again."}});const p=()=>{a.push("/")};return(e,t)=>(l(),u("div",_,[o("div",k,[t[0]||(t[0]=o("div",{class:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1)),o("h2",v,d(n(i)),1),t[1]||(t[1]=o("p",{class:"text-gray-600"},"Please wait...",-1)),n(s)?(l(),u("div",w,[o("p",S,d(n(s)),1),o("button",{onClick:p,class:"mt-3 text-sm text-red-600 hover:text-red-800 underline"}," Return to login ")])):y("",!0)])]))}};typeof m=="function"&&m(q);export{q as default};
